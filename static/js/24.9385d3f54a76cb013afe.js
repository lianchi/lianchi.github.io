webpackJsonp([24],{"267P":function(t,e,a){"use strict";function l(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=a("5LfB"),s=a("9E5R"),i=(a("RUjS"),a("0nCa")),r=a("/4KT"),o=l(r),u=a("fhCn"),c=l(u);a("E4LH");e.default={components:{CommonTable:o.default,ButtonGroup:c.default},data:function(){var t=this;return{filters:{hostId:null,userId:null,datetimerange:null,eventType:null,orgId:null},eventTypeOptions:[],orgOptions:[],datePickerOptions:{shortcuts:(0,i.dateShortcuts)(this)},tableProps:{type:"",sels:[],showSels:!1,data:[],showPage:!0,maxHeight:"680",pageSize:10,pageSizes:[10,25,50],currentPage:1,totalElements:0,columns:[{label:this.$t("ofa.table.eventName"),prop:"alert",minWidth:"80",sortable:!0,sortMethod:function(t,e){return t.alert<e.alert}},{label:this.$t("ofa.table.subject"),prop:"subject",minWidth:"60",sortable:!0,sortMethod:function(t,e){return t.subject<e.subject}},{label:this.$t("ofa.table.hostId"),prop:"ip",minWidth:"100"},{label:this.$t("ofa.table.eventTime"),prop:"generateTime",minWidth:"100",sortable:!0,sortMethod:function(t,e){return t.generateTime<e.generateTime},formatter:i.formatStamp}],loading:!1,selsChange:function(e){t.tableProps.sels=e},currentChange:function(e){t.tableProps.currentPage=e,t.getData()},sizeChange:function(e){t.tableProps.pageSize=e,t.getData()}}}},methods:{getEventTypes:function(){var t=this;s.ofaRequest.eventType.get().then(function(e){t.eventTypeOptions=e.data.content})},getOrgs:function(){var t=this;n.rtaRequest.getOrgs().then(function(e){t.orgOptions=e.data})},getData:function(){var t=this;this.tableProps.loading=!0;var e={event:this.filters.eventType,orgId:this.filters.orgId,pageSize:this.tableProps.pageSize,pageNum:this.tableProps.currentPage-1};s.ofaRequest.getAlerts(e).then(function(e){t.tableProps.data=e.data.content,t.tableProps.totalElements=e.data.totalElements,t.tableProps.loading=!1}).catch(function(){t.tableProps.loading=!1})}},mounted:function(){this.getOrgs(),this.getEventTypes(),this.getData()}}},AtKv:function(t,e,a){"use strict";var l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",[a("div",{staticClass:"toolbar"},[a("el-input",{staticStyle:{width:"140px"},attrs:{placeholder:this.$tc("ofa.audit.userId",1)},model:{value:t.filters.userId,callback:function(e){t.$set(t.filters,"userId",e)},expression:"filters.userId"}}),t._v(" "),a("el-input",{staticStyle:{"margin-left":"10px",width:"140px"},attrs:{placeholder:this.$tc("ofa.audit.hostId",1)},model:{value:t.filters.hostId,callback:function(e){t.$set(t.filters,"hostId",e)},expression:"filters.hostId"}}),t._v(" "),a("el-date-picker",{staticStyle:{"margin-left":"10px",width:"350px"},attrs:{editable:!1,type:"datetimerange","start-placeholder":this.$t("date.startDate"),"end-placeholder":this.$t("date.endDate"),align:"left","unlink-panels":"","picker-options":t.datePickerOptions},model:{value:t.filters.datetimerange,callback:function(e){t.$set(t.filters,"datetimerange",e)},expression:"filters.datetimerange"}}),t._v(" "),a("el-select",{staticStyle:{"margin-left":"10px",width:"180px"},attrs:{filterable:"",clearable:"",placeholder:this.$tc("ofa.audit.eventType",1)},model:{value:t.filters.eventType,callback:function(e){t.$set(t.filters,"eventType",e)},expression:"filters.eventType"}},t._l(t.eventTypeOptions,function(t){return a("el-option",{key:t.event,attrs:{label:t.event,value:t.event}})})),t._v(" "),a("el-select",{staticStyle:{"margin-left":"10px",width:"180px"},attrs:{filterable:"",clearable:"",placeholder:this.$tc("ofa.audit.orgId",0)},model:{value:t.filters.orgId,callback:function(e){t.$set(t.filters,"orgId",e)},expression:"filters.orgId"}},t._l(t.orgOptions,function(t){return a("el-option",{key:t.id,attrs:{label:t.displayName,value:t.id}})})),t._v(" "),a("el-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.getData}},[t._v(t._s(t.$t("button.search")))])],1),t._v(" "),a("CommonTable",t._b({},"CommonTable",t.tableProps,!1))],1)},n=[],s={render:l,staticRenderFns:n};e.a=s},pOzp:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var l=a("267P"),n=a.n(l),s=a("AtKv"),i=a("VU/8"),r=i(n.a,s.a,!1,null,null,null);e.default=r.exports}});